<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Finalizar compra • AJ Nails</title>

    <!-- Bootstrap + estilos globales -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <!-- Estilos del checkout -->
    <link rel="stylesheet" href="checkout.css" />

    <script
      src="https://kit.fontawesome.com/d9cdfd874a.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <!-- NAV -->
    <nav class="navbar navbar-expand-lg fixed-top shadow-sm">
      <div class="container">
        <a
          class="navbar-brand d-flex align-items-center gap-2"
          href="index.html#inicio"
        >
          <img src="img/logonails.png" alt="" class="brand-logo" />
          <span class="d-none d-sm-inline">AJ Nails</span>
        </a>
        <button
          class="navbar-toggler"
          data-bs-toggle="collapse"
          data-bs-target="#nav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="nav">
          <ul class="navbar-nav ms-auto align-items-lg-center">
            <li class="nav-item">
              <a class="nav-link" href="productos.html">Tienda</a>
            </li>
            <!-- En tu <nav> ... -->
            <li class="nav-item ms-lg-3">
              <button
                id="cartButton"
                class="btn position-relative btn-light border-0"
              >
                <i class="fa-solid fa-bag-shopping fs-5"></i>
                <span
                  id="cartCount"
                  class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                  >0</span
                >
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container checkout-container">
      <!-- Pasos -->
      <ol class="checkout-steps">
        <li class="done"><span>1</span> Carrito</li>
        <li class="active"><span>2</span> Datos</li>
        <li><span>3</span> Confirmar</li>
      </ol>

      <div class="row g-4">
        <!-- Datos -->
        <div class="col-12 col-lg-7">
          <div class="card p-3 p-md-4 shadow-sm fade-in">
            <h2 class="h5 mb-3">Datos para tu servicio / pedido</h2>

            <div class="row g-3">
              <div class="col-12 col-md-6">
                <label class="form-label">Nombre y apellido</label>
                <input
                  id="co-nombre"
                  class="form-control"
                  placeholder="Tu nombre completo"
                />
              </div>
              <div class="col-12 col-md-6">
                <label class="form-label">Teléfono</label>
                <input
                  id="co-tel"
                  class="form-control"
                  placeholder="+51 9XXXXXXXX"
                />
              </div>

              <!-- Tipo de servicio -->
              <div class="col-12 col-md-6">
                <label class="form-label">Tipo de servicio</label>
                <select id="co-entrega" class="form-select">
                  <option value="Local">Atención en el local</option>
                  <option value="Domicilio">A domicilio</option>
                </select>
                <div class="form-text">
                  Elige si vienes al estudio o prefieres que vayamos.
                </div>
              </div>

              <!-- Fecha / hora preferida (opcional) -->
              <div class="col-6 col-md-3">
                <label class="form-label">Fecha preferida</label>
                <input id="co-fecha" type="date" class="form-control" />
              </div>
              <div class="col-6 col-md-3">
                <label class="form-label">Hora preferida</label>
                <input id="co-hora" type="time" class="form-control" />
              </div>

              <!-- Campos de domicilio -->
              <div class="col-12 domicilio-only d-none">
                <label class="form-label">Dirección</label>
                <input
                  id="co-dir"
                  class="form-control"
                  placeholder="Calle, número, referencia"
                />
              </div>

              <div class="col-12 col-md-6 domicilio-only d-none">
                <label class="form-label">Zona</label>
                <select id="co-zona" class="form-select">
                  <option value="0">Ayacucho Centro – S/ 0</option>
                  <option value="5">Distritos cercanos – S/ 5</option>
                  <option value="10">Periferia – S/ 10</option>
                </select>
                <div class="form-text">
                  * Costo de movilidad para servicio a domicilio.
                </div>
              </div>

              <!-- Comentario -->
              <div class="col-12">
                <label class="form-label">Comentario (opcional)</label>
                <textarea
                  id="co-nota"
                  class="form-control"
                  rows="3"
                  placeholder="Ej: quiero francesas con glitter, soy alérgica a..."
                ></textarea>
              </div>
            </div>

            <div class="d-grid mt-4">
              <button id="co-wh" class="btn btn-rose btn-lg">
                <i class="fa-brands fa-whatsapp me-1"></i> Enviar pedido por
                WhatsApp
              </button>
              <a href="productos.html" class="btn btn-outline-dark mt-2"
                >Seguir comprando</a
              >
            </div>
          </div>
        </div>

        <!-- Resumen -->
        <aside class="col-12 col-lg-5">
          <div class="card p-3 p-md-4 shadow-sm sticky-summary fade-in delay-1">
            <h2 class="h5 mb-3">Resumen de compra</h2>
            <div class="table-responsive">
              <table class="table align-middle table-sm mb-2">
                <thead>
                  <tr>
                    <th>Producto</th>
                    <th class="text-center">Cant.</th>
                    <th class="text-end">Importe</th>
                  </tr>
                </thead>
                <tbody id="co-body"></tbody>
              </table>
            </div>

            <div class="d-flex justify-content-between small text-muted">
              <span>Subtotal</span><span id="co-subtotal">S/ 0.00</span>
            </div>
            <div class="d-flex justify-content-between small text-muted">
              <span>Movilidad (domicilio)</span
              ><span id="co-envio">S/ 0.00</span>
            </div>
            <hr class="my-2" />
            <div class="d-flex justify-content-between fs-5">
              <strong>Total</strong><strong id="co-total">S/ 0.00</strong>
            </div>

            <div class="mt-3 text-muted small">
              <i class="fa-solid fa-shield-halved me-1"></i>Confirmación por
              WhatsApp. No se realizan cobros automáticos.
            </div>
          </div>
        </aside>
      </div>
    </main>

    <!-- Offcanvas del carrito (mismo en todas las páginas) -->
    <div
      class="offcanvas offcanvas-end cart-drawer"
      tabindex="-1"
      id="offcanvasCart"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title">Tu carrito</h5>
        <button class="btn-close" data-bs-dismiss="offcanvas"></button>
      </div>
      <div class="offcanvas-body d-flex flex-column">
        <ul id="cartList" class="list-group list-group-flush mb-3 small"></ul>
        <div class="mt-auto pt-3 border-top">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span class="fw-semibold">Subtotal</span
            ><span class="fw-bold" id="cartTotal">S/ 0.00</span>
          </div>
          <div class="d-grid gap-2">
            <a href="checkout.html" class="btn btn-rose">Ir a pagar</a
            ><button class="btn btn-outline-dark" id="clearCart">
              Vaciar carrito
            </button>
          </div>
        </div>
      </div>
    </div>
    <div
      class="offcanvas offcanvas-end cart-drawer"
      tabindex="-1"
      id="offcanvasCart"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title">Tu carrito</h5>
        <button class="btn-close" data-bs-dismiss="offcanvas"></button>
      </div>
      <div class="offcanvas-body d-flex flex-column">
        <ul id="cartList" class="list-group list-group-flush mb-3 small"></ul>
        <div class="mt-auto pt-3 border-top">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <span class="fw-semibold">Subtotal</span>
            <span class="fw-bold" id="cartTotal">S/ 0.00</span>
          </div>
          <div class="d-grid gap-2">
            <a href="checkout.html" class="btn btn-rose">Ir a pagar</a>
            <button class="btn btn-outline-dark" id="clearCart">
              Vaciar carrito
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
    <!-- carrito v2 compartido -->
    <script src="checkout.js"></script>
    <!-- este archivo, abajo -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
